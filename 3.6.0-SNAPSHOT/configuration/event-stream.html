<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=G-9F4LJXRX6T"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-9F4LJXRX6T', { 'anonymize_ip': true }); </script> <script src="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/assets/js/vendor/lunr.min.js"></script> <script src="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/assets/images/favicon.ico" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Configuring a new Event Stream | LDES Server</title> <meta name="generator" content="Jekyll v3.9.3" /> <meta property="og:title" content="Configuring a new Event Stream" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Configuring a new Event Stream" /> <meta property="og:description" content="Configuring a new Event Stream" /> <meta property="og:site_name" content="LDES Server" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Configuring a new Event Stream" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Configuring a new Event Stream","headline":"Configuring a new Event Stream","url":"/VSDS-LDESServer4J/3.6.0-SNAPSHOT/configuration/event-stream"}</script> <!-- End Jekyll SEO tag --> <div class="test-header" data-v-df634f57="" data-v-7a7a37b1=""> <div class="global-header" data-v-df634f57=""><img src="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/assets/images/LOGO_Vlaanderen_NIV2.svg" alt="Vlaanderen" data-v-df634f57=""><img class="small-global-header-divider" src="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/assets/images/divider_globalheader.svg" alt="divider" data-v-df634f57=""><span class="header-title header-font" data-v-df634f57="">Vlaamse Smart Data Space</span><span class="spacer" data-v-df634f57=""></span> <div id="help-needed" data-v-df634f57=""> <span class="header-font" data-v-df634f57="">Hulp nodig</span> <a href="https://www.vlaanderen.be/vlaamse-smart-data-space-portaal/contact" target="_blank"> <img class="question-menu-item" src="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/assets/images/question-mark.svg" alt="?" data-v-df634f57=""> </a> </div> </div> <hr class="divider" data-v-df634f57=""> </div> <style> #help-needed[data-v-df634f57] { display: flex; align-items: center; gap: 5px; background-image: url(/assets/images/hulp_nodig.svg | relative_url); width: 144px; height: 44px; } .global-header[data-v-df634f57] { display: flex; margin-left: 0px; align-items: center; position: fixed; width: 100%; border-bottom: 0.5px solid rgb(138, 138, 138); background-color: white; z-index: 100; } .test-header { margin-bottom: 20px; overflow: hidden; } element.style { } .small-global-header-divider[data-v-df634f57] { margin: 0 8px 0 4px; } .header-font { color: #333332; font-family: Flanders Art Sans, sans-serif; font-size: 12px; font-style: normal; font-weight: 500; line-height: normal; letter-spacing: 0.5px; text-transform: uppercase; } .spacer { flex-grow: 1; } .divider { border: 1px solid #8f8f8f66; margin: 0; } #help-needed > span[data-v-df634f57] { margin-left: 25px; } </style> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/" class="site-title lh-tight"> LDES Server </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/how-to-run.html" class="nav-list-link">How To Run</a></li></ul> <ul class="nav-list"><li class="nav-list-item external"> <a href="https://informatievlaanderen.github.io/VSDS-Tech-Docs/" class="nav-list-link external"> VSDS Technical Docs <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a> </li></ul> <div class="nav-category">Configuration</div> <ul class="nav-list"><li class="nav-list-item active"><a href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/configuration/event-stream" class="nav-list-link active">Configuring a new Event Stream</a></li><li class="nav-list-item"><a href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/configuration/view" class="nav-list-link">Configuring a new View</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Fragmentations category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/configuration/fragmentations/index" class="nav-list-link">Fragmentations</a><ul class="nav-list"><li class="nav-list-item "><a href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/configuration/fragmentations/geospatial" class="nav-list-link">Geospatial Fragmentation</a></li><li class="nav-list-item "><a href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/configuration/fragmentations/reference" class="nav-list-link">Reference Fragmentation</a></li><li class="nav-list-item "><a href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/configuration/fragmentations/timebased" class="nav-list-link">Timebased Fragmentation</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Retention Policies category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/configuration/retention-policies/index" class="nav-list-link">Retention Policies</a><ul class="nav-list"><li class="nav-list-item "><a href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/configuration/retention-policies/timebased" class="nav-list-link">Timebased Retention</a></li><li class="nav-list-item "><a href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/configuration/retention-policies/version-based" class="nav-list-link">Version Based Retention</a></li></ul></li><li class="nav-list-item"><a href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/configuration/dcat" class="nav-list-link">Configuring Data Catalog Vocabulary (DCAT)</a></li><li class="nav-list-item"><a href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/configuration/admin-api" class="nav-list-link">Swagger Admin API</a></li><li class="nav-list-item"><a href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/configuration/ports" class="nav-list-link">Binding the server ports</a></li></ul> <div class="nav-category">Data Ingestion</div> <ul class="nav-list"><li class="nav-list-item"><a href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/ingest/http" class="nav-list-link">Ingest Members With HTTP</a></li><li class="nav-list-item"><a href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/ingest/kafka" class="nav-list-link">Ingest Members With Kafka</a></li></ul> <div class="nav-category">Data Retrieval</div> <ul class="nav-list"><li class="nav-list-item"><a href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/fetch/ldes-client" class="nav-list-link">Read Linked Data Event Streams with the LDES Client</a></li><li class="nav-list-item"><a href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/fetch/http" class="nav-list-link">Read Linked Data Event Streams With HTTP</a></li></ul> <div class="nav-category">Features</div> <ul class="nav-list"><li class="nav-list-item"><a href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/features/compaction" class="nav-list-link">Fragment Compaction</a></li><li class="nav-list-item"><a href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/features/skolemization" class="nav-list-link">Skolemization</a></li><li class="nav-list-item"><a href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/features/relative-urls" class="nav-list-link">Using relative URI's</a></li><li class="nav-list-item"><a href="/VSDS-LDESServer4J/3.6.0-SNAPSHOT/features/rdf-prefixes" class="nav-list-link">RDF Prefixes</a></li></ul> </nav> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search LDES Server" aria-label="Search LDES Server" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/Informatievlaanderen/VSDS-LDESServer4J" class="site-button" > LDES Server Repository </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h1 id="configuring-a-new-event-stream"> <a href="#configuring-a-new-event-stream" class="anchor-heading" aria-labelledby="configuring-a-new-event-stream"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring a new Event Stream </h1> <p>To host a new Event Stream on your server, it first needs to be configured. This can be done through the Admin API at the <code class="language-plaintext highlighter-rouge">/admin/api/v1/eventstreams</code> endpoint.</p> <p>An Event Stream config needs to contain a couple of items:</p> <ul> <li>a <code class="language-plaintext highlighter-rouge">ldes:EventStream</code> object containing: <ul> <li><code class="language-plaintext highlighter-rouge">ldes:timestampPath</code> object that defines which object property it should parse to handle timebased fragmentations, retention policies, …</li> <li><code class="language-plaintext highlighter-rouge">ldes:versionOfPath</code> object that defines which object property it should parse to handle version based retention policies. This property also indicates which state object your version object is a snapshot of.</li> <li><code class="language-plaintext highlighter-rouge">ldes:createVersions</code> object that defines whether the LDES should create version objects, indicating the LDES can ingest state objects. <br /> The default value of this object is <code class="language-plaintext highlighter-rouge">false</code> and the property can be omitted.</li> <li><code class="language-plaintext highlighter-rouge">ldes:versionDelimiter</code> object that defines how the version object id will be constructed. (versionOf + delimiter + dateObserved) <br /> The default value of this object is <code class="language-plaintext highlighter-rouge">/</code> and the property can be omitted.</li> <li><code class="language-plaintext highlighter-rouge">ldes:eventSource</code> object that defines which members are to be retained in the event stream. When omitted, all members are retained. More info on this can be found <a href="./event-stream#configuring-member-deletion-on-an-event-stream">here</a></li> <li> <p><code class="language-plaintext highlighter-rouge">ldes:skolemizationDomain</code> object that defines the <a href="../features/skolemization">skolemization</a> domain. Using <code class="language-plaintext highlighter-rouge">"http://example.com"</code> as domain will result in all blank nodes being transformed to <code class="language-plaintext highlighter-rouge">http://example.org/.well-known/genid/{unique_id}</code>.</p> </li> <li>For more info, visit the <a href="./admin-api">Swagger API documentation.</a></li> </ul> </li> </ul> <h3 id="create-version-objects-vs-ingest-version-objects"> <a href="#create-version-objects-vs-ingest-version-objects" class="anchor-heading" aria-labelledby="create-version-objects-vs-ingest-version-objects"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Create version objects vs ingest version objects </h3> <p>Until version <code class="language-plaintext highlighter-rouge">2.11.0</code>, only version objects could be ingested. But from version <code class="language-plaintext highlighter-rouge">2.12.0</code>, either version objects or state objects could be ingested in an event stream. This results in a slightly other meaning for both the <code class="language-plaintext highlighter-rouge">ldes:timestampPath</code> and <code class="language-plaintext highlighter-rouge">ldes:versionOfPath</code> properties.</p> <p>In case of <strong>version ingestion</strong>, those properties are used to extract the information of the member. <br /> In case of <strong>version creation</strong>, those properties are used to append information to the member on fetching.</p> <h3 id="example"> <a href="#example" class="anchor-heading" aria-labelledby="example"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example </h3> <p>Creating a generic Event Stream named “generic-eventstream”</p> <div class="language-turtle highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">@prefix</span><span class="w"> </span><span class="nn">ldes:</span><span class="w"> </span><span class="nl">&lt;https://w3id.org/ldes#&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="kd">@prefix</span><span class="w"> </span><span class="nn">dcterms:</span><span class="w"> </span><span class="nl">&lt;http://purl.org/dc/terms/&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="kd">@prefix</span><span class="w"> </span><span class="nn">tree:</span><span class="w"> </span><span class="nl">&lt;https://w3id.org/tree#&gt;</span><span class="p">.</span><span class="w">
</span><span class="kd">@prefix</span><span class="w"> </span><span class="nn">sh:</span><span class="w">   </span><span class="nl">&lt;http://www.w3.org/ns/shacl#&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="kd">@prefix</span><span class="w"> </span><span class="nn">server:</span><span class="w"> </span><span class="nl">&lt;http://localhost:8080/&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="kd">@prefix</span><span class="w"> </span><span class="nn">xsd:</span><span class="w">  </span><span class="nl">&lt;http://www.w3.org/2001/XMLSchema#&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="kd">@prefix</span><span class="w"> </span><span class="nn">genericES:</span><span class="w"> </span><span class="nl">&lt;http://localhost:8080/generic-eventstream/&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">

</span><span class="nn">server:</span><span class="n">generic-eventstream</span><span class="w"> </span><span class="k">a</span><span class="w"> </span><span class="nn">ldes:</span><span class="n">EventStream</span><span class="w"> </span><span class="p">;</span><span class="w">
    </span><span class="nn">ldes:</span><span class="n">timestampPath</span><span class="w"> </span><span class="nn">dcterms:</span><span class="n">created</span><span class="w"> </span><span class="p">;</span><span class="w">
    </span><span class="nn">ldes:</span><span class="n">versionOfPath</span><span class="w"> </span><span class="nn">dcterms:</span><span class="n">isVersionOf</span><span class="w"> </span><span class="p">;</span><span class="w">
    </span><span class="nn">ldes:</span><span class="n">createVersions</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">;</span><span class="w">
    </span><span class="nn">tree:</span><span class="n">shape</span><span class="w"> </span><span class="nn">genericES:</span><span class="n">shape</span><span class="w"> </span><span class="p">.</span><span class="w">

</span><span class="nn">genericES:</span><span class="n">shape</span><span class="w"> </span><span class="k">a</span><span class="w"> </span><span class="nn">sh:</span><span class="n">NodeShape</span><span class="w"> </span><span class="p">.</span><span class="w">
</span></code></pre></div></div> <h2 id="configuring-an-event-stream-with-a-kafka-source"> <a href="#configuring-an-event-stream-with-a-kafka-source" class="anchor-heading" aria-labelledby="configuring-an-event-stream-with-a-kafka-source"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring an Event Stream with a Kafka source </h2> <p>To configure an Event Stream that ingests members from a Kafka topic, please visit the <a href="../ingest/kafka">Kafka Ingest documentation</a>.</p> <h2 id="configuring-a-shacl-shape"> <a href="#configuring-a-shacl-shape" class="anchor-heading" aria-labelledby="configuring-a-shacl-shape"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring a SHACL Shape </h2> <p><a href="https://www.w3.org./TR/shacl/">SHACL (Shapes Constraint Language)</a> is a standard for validating RDF data and ensuring that it conforms to a particular structure or shape. In the context of the Linked Data Event Stream (LDES), SHACL shapes are used to provide a machine-readable description of the expected structure of members in the stream.</p> <p>By incorporating SHACL shapes, LDES provides a powerful tool for ensuring data quality and consistency, making it a reliable and trustworthy source of data for various applications. By defining a SHACL shape for the LDES, data producers can ensure that the members they add to the LDES adhere to the required structure, while data consumers can use the shape to validate and reason about the data they receive.</p> <p>Defining a shape can be done through the <code class="language-plaintext highlighter-rouge">/admin/api/v1/eventstreams/{collectionName}/shape</code> endpoint.</p> <p>For more info, visit the <a href="./admin-api">Swagger API documentation.</a></p> <h3 id="example-1"> <a href="#example-1" class="anchor-heading" aria-labelledby="example-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example </h3> <div class="language-turtle highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">@prefix</span><span class="w"> </span><span class="nn">sh:</span><span class="w">   </span><span class="nl">&lt;http://www.w3.org/ns/shacl#&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">
</span><span class="kd">@prefix</span><span class="w"> </span><span class="nn">rdf:</span><span class="w"> </span><span class="nl">&lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">

</span><span class="p">[]</span><span class="w"> </span><span class="k">a</span><span class="w"> </span><span class="nn">sh:</span><span class="n">NodeShape</span><span class="p">;</span><span class="w">
  </span><span class="nn">sh:</span><span class="n">targetClass</span><span class="w"> </span><span class="nl">&lt;https://w3id.org/ldes#EventStream&gt;</span><span class="w"> </span><span class="p">;</span><span class="w">
  </span><span class="nn">sh:</span><span class="n">closed</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span><span class="w">
  </span><span class="nn">sh:</span><span class="n">ignoredProperties</span><span class="w"> </span><span class="p">(</span><span class="nn">rdf:</span><span class="n">type</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
  </span><span class="nn">sh:</span><span class="n">property</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="nn">sh:</span><span class="n">class</span><span class="w"> </span><span class="nn">sh:</span><span class="n">NodeShape</span><span class="p">;</span><span class="w">
    </span><span class="nn">sh:</span><span class="n">description</span><span class="w"> </span><span class="s">"The schema all elements of the eventstream must conform to."</span><span class="na">@en</span><span class="p">;</span><span class="w">
    </span><span class="nn">sh:</span><span class="n">maxCount</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
    </span><span class="nn">sh:</span><span class="n">minCount</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
    </span><span class="nn">sh:</span><span class="n">name</span><span class="w"> </span><span class="s">"shape"</span><span class="na">@en</span><span class="p">;</span><span class="w">
    </span><span class="nn">sh:</span><span class="n">path</span><span class="w"> </span><span class="nl">&lt;https://w3id.org/tree#shape&gt;</span><span class="w">
  </span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="nn">sh:</span><span class="n">nodeKind</span><span class="w"> </span><span class="nn">sh:</span><span class="n">IRI</span><span class="w"> </span><span class="p">;</span><span class="w">
    </span><span class="nn">sh:</span><span class="n">description</span><span class="w"> </span><span class="s">"The object property of the members that idicates how members relate to each other from the time perspective."</span><span class="na">@en</span><span class="p">;</span><span class="w">
    </span><span class="nn">sh:</span><span class="n">maxCount</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
    </span><span class="nn">sh:</span><span class="n">name</span><span class="w"> </span><span class="s">"timestampPath"</span><span class="na">@en</span><span class="p">;</span><span class="w">
    </span><span class="nn">sh:</span><span class="n">path</span><span class="w"> </span><span class="nl">&lt;https://w3id.org/ldes#timestampPath&gt;</span><span class="w">
  </span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="nn">sh:</span><span class="n">nodeKind</span><span class="w"> </span><span class="nn">sh:</span><span class="n">IRI</span><span class="w"> </span><span class="p">;</span><span class="w">
    </span><span class="nn">sh:</span><span class="n">description</span><span class="w"> </span><span class="s">"The object property that indicates the object identifier in a version object."</span><span class="na">@en</span><span class="p">;</span><span class="w">
    </span><span class="nn">sh:</span><span class="n">maxCount</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
    </span><span class="nn">sh:</span><span class="n">name</span><span class="w"> </span><span class="s">"versionOfPath"</span><span class="na">@en</span><span class="p">;</span><span class="w">
    </span><span class="nn">sh:</span><span class="n">path</span><span class="w"> </span><span class="nl">&lt;https://w3id.org/ldes#versionOfPath&gt;</span><span class="w">
  </span><span class="p">]</span><span class="w"> </span><span class="p">.</span><span class="w">
</span></code></pre></div></div> <h2 id="configuring-member-deletion-on-an-event-stream"> <a href="#configuring-member-deletion-on-an-event-stream" class="anchor-heading" aria-labelledby="configuring-member-deletion-on-an-event-stream"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring member deletion on an Event Stream </h2> <p>To determine which members should be permanently deleted from the Event Stream, it is necessary to set one or more retention policies on the event source of the Event Stream. Definition of event source:</p> <blockquote> <p>In Linked Data Event Streams, the ldes:EventSource class is designed to be the source for all derived views. The Linked Data Event Streams specification can also further elaborate on the ViewDescription by for example describing a retention policy on top of it.</p> </blockquote> <p>By default, no retention policy is set on the event source meaning that no data is removed from the Event Stream. Even when all views are deleted, the members will not be deleted from the Event Stream.</p> <p>When a retention policy is set on the event source of an Event Stream, every member that is not part of any view and which falls outside of the retention policy will be removed from the Event Stream. More information on which retention policies can be used can be found <a href="./retention-policies/index">here</a>.</p> <p>The event source is automatically created when creating an Event Stream but does not contain a retention policy by default. To add retention policies to the event source, the admin API can be used. More info on this can be found <a href="./admin-api">here</a>. It is only possible to add or edit retention policies of an event source, other properties cannot be changed.</p> <p>Before introduction of the event source in the LDES Server, members were directly deleted when they weren’t part of any view anymore. With the event source, it is possible to delete all views of an Event Stream without losing members so that you can create new views without having to ingest data again. If members need to be deleted directly from the Event Stream when they aren’t part of any view, a timebased retention policy of a few seconds can be set on the event source of the Event Stream.</p> <h3 id="example-2"> <a href="#example-2" class="anchor-heading" aria-labelledby="example-2"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example: </h3> <div class="language-turtle highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">@prefix</span><span class="w"> </span><span class="nn">ldes:</span><span class="w"> </span><span class="nl">&lt;https://w3id.org/ldes#&gt;</span><span class="w"> </span><span class="p">.</span><span class="w">

</span><span class="nn">ldes:</span><span class="n">retentionPolicy</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="k">a</span><span class="w"> </span><span class="nn">ldes:</span><span class="n">LatestVersionSubset</span><span class="w"> </span><span class="p">;</span><span class="w">
        </span><span class="nn">ldes:</span><span class="n">amount</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w">
      </span><span class="p">]</span><span class="w"> </span><span class="p">;</span><span class="w">
</span></code></pre></div></div> </main> <hr> <footer> <div class="d-flex mt-2"> <p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/Informatievlaanderen/VSDS-LDESServer4J/tree/develop/docs//_configuration/event-stream.md" id="edit-this-page">Contribute on GitHub</a> </p> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> <script type="module"> import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.esm.min.mjs'; var config = {} ; mermaid.initialize(config); mermaid.run({ querySelector: '.language-mermaid', }); </script> </body> </html>
